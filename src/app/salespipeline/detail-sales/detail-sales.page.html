<ion-header>
  <ion-toolbar  color="primary">
    <ion-buttons>
      <ion-back-button defaultHref="/salespipeline">
      </ion-back-button>
      <ion-title>{{isLoading?'Loading...':salespipeline.client}}</ion-title>
      <ion-button  [routerLink]="['/','salespipeline','edit',salesId]">
        <ion-icon name="create" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="isLoading" class="ion-text-center">
<ion-spinner color="primary"></ion-spinner>
  </div>
  <ion-grid class="ion-no-padding" *ngIf="!isLoading">
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <ion-card>
          <ion-card-content>

            <ion-item>
              <ion-icon name="cafe-outline" size="medium" style="color: #E91E63;padding-right: 5px;"></ion-icon>
              <ion-label style="font-size: 15px;">
                 <b> Client Group : </b>{{salespipeline.group}}</ion-label>
            </ion-item>
            <ion-item >
              <ion-icon name="create-outline"  size="medium" style="color: #E91E63;padding-right: 5px;"></ion-icon>
              <ion-label style="font-size: 15px;">
                 <b> Comment : </b>{{salespipeline.comment}}</ion-label>
            </ion-item>
            <ion-item >
              <ion-icon name="cash-outline"  size="medium" style="color: #E91E63;padding-right: 5px;"></ion-icon>
              <ion-label style="font-size: 15px;">
                 <b> Amount : </b>{{salespipeline.amount}}</ion-label>
            </ion-item>


            <ion-row class="card-tab" style="background:#3F51B5" *ngFor="let location of salespipeline.locations;let i = index;">
              <ion-col size-sm="6" offset-sm="3">
                <ion-item color="success" style="padding-right: 5px;">
                  <ion-icon name="location-outline"></ion-icon>
                  <ion-label><b> City : </b> {{location.city}} </ion-label>
                 </ion-item>

                 <ion-item>
                  <ion-label><b> Address : </b> {{location.address}} </ion-label>
                 </ion-item>

                 <ion-item>
                  <ion-label><b> Closure Date : </b>  {{convertTimestampToDate(location.closureDate)}} </ion-label>
                 </ion-item>
                 <ion-item >
                  <ion-icon name="cash-outline"  size="medium" style="color: #E91E63;padding-right: 5px;"></ion-icon>
                  <ion-label style="font-size: 15px;">
                     <b> Amount : </b>{{location.amount}}</ion-label>
                </ion-item>

                <ion-row class="card-tab" style="background:#3F51B5" *ngFor="let machine of location.machines; let j = index;">
                  <ion-col size-sm="6" offset-sm="3">
                    <ion-item color="danger">
                      <ion-icon name="file-tray-stacked-outline" style="padding-right: 5px;"></ion-icon>
                      <ion-label><b> Machine : </b> {{machine.machineName}} </ion-label>
                     </ion-item>

                     <ion-item>

                      <ion-label><b> Machine Type : </b> {{machine.machineType}} </ion-label>
                     </ion-item>

                     <ion-item>

                      <ion-label><b> Machine Category : </b> {{machine.machineCategory}} </ion-label>
                     </ion-item>
                     <ion-item>

                      <ion-label><b> Count : </b> {{machine.machineCount}} </ion-label>
                     </ion-item>
                     <ion-item>

                      <ion-label><b> Rate : </b> {{machine.rate}} </ion-label>
                     </ion-item>
                     <ion-item>
                      <ion-label><b> Machine Type : </b> {{machine.machineType}} </ion-label>
                     </ion-item>
                     <ion-item>
                      <ion-label><b> Confidence Level : </b> {{machine.conflevel}}% </ion-label>
                     </ion-item>

                     <ion-item >
                      <ion-icon name="cash-outline"  size="medium" style="color: #E91E63;padding-right: 5px;"></ion-icon>
                      <ion-label style="font-size: 15px;">
                         <b> Amount : </b>{{machine.amount}}</ion-label>
                    </ion-item>
                  </ion-col>
                </ion-row>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>
        <div></div>

        </ion-col>
    </ion-row>
  </ion-grid>


</ion-content>
